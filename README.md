# SoundChain

ะัะธะฟัะพะฒะฐะปััะฐ ั proof-of-sound ะผะฐะนะฝะธะฝะณะพะผ ะดะปั ะปะพะบะฐะปัะฝัั ะฒะตัะตัะธะฝะพะบ.

ะงะตัััะต ะผะฐะนะฝะตัะฐ ะดะพะฑัะฒะฐัั ะฑะปะพะบะธ ะธะทะดะฐะฒะฐั ะทะฒัะบะธ, ะพััะฐะปัะฝัะต ััะฐััะฝะธะบะธ โ ะพะฑััะฝัะต ะฟะพะปัะทะพะฒะฐัะตะปะธ ั ะบะพัะตะปัะบะฐะผะธ, ะบะพัะพััะต ัะพะฒะตััะฐัั ััะฐะฝะทะฐะบัะธะธ ะผะตะถะดั ัะพะฑะพะน. ะะฐะนะฝะตัั ะฒะฒะพะดัั ะฒะฐะปััั ะฒ ัะธััะตะผั ะธ ะฟะพะปััะฐัั ะบะพะผะธััะธะธ ะทะฐ ะพะฑัะฐะฑะพัะบั ััะฐะฝะทะฐะบัะธะน.

## ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั

### ะะปั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
1. ะัะธ ะฟะพะดะบะปััะตะฝะธะธ ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะพะทะดะฐัััั ะบะพัะตะปัะบ
2. ะะพะปัะทะพะฒะฐัะตะปะธ ะผะพะณัั ะฟะตัะตะฒะพะดะธัั ะผะพะฝะตัั ะดััะณ ะดััะณั
3. ะขัะฐะฝะทะฐะบัะธะธ ะฟะพะฟะฐะดะฐัั ะฒ ะฟัะป ะธ ะถะดัั ะฟะพะดัะฒะตัะถะดะตะฝะธั ะผะฐะนะฝะตัะฐะผะธ

### ะะปั ะผะฐะนะฝะตัะพะฒ (4 ัะปะพัะฐ)
1. ะะฐะถะดะพะผั ะผะฐะนะฝะตัั ะฝะฐะทะฝะฐัะฐะตััั ัะฝะธะบะฐะปัะฝะฐั ัะฐััะพัะฐ (440 Hz, 587 Hz, 784 Hz, 1047 Hz)
2. ะขะตะปะตัะพะฝ ะณะตะฝะตัะธััะตั ัะธะฝััะพะธะดะฐะปัะฝัะน ัะพะฝ ะฝะฐ ััะพะน ัะฐััะพัะต
3. ะะธะบัะพัะพะฝ ะฝะฐ Pi ะปะพะฒะธั ะฒัะต ะทะฒัะบะธ ะฒ ะบะพะผะฝะฐัะต
4. FFT ัะฐะทะดะตะปัะตั ัะฐััะพัั ะธ ะพะฟัะตะดะตะปัะตั ะฒะบะปะฐะด ะบะฐะถะดะพะณะพ ะผะฐะนะฝะตัะฐ
5. ะะพะณะดะฐ ััะผะผะฐัะฝัะน ััะพะฒะตะฝั ะทะฒัะบะฐ ะฟะพะฟะฐะดะฐะตั ะฒ ัะตะปะตะฒะพะน ะดะธะฐะฟะฐะทะพะฝ โ ะฑะปะพะบ ะดะพะฑัะฒะฐะตััั
6. ะะฐะนะฝะตัั ะฟะพะปััะฐัั ะฝะฐะณัะฐะดั ะทะฐ ะฑะปะพะบ + ะบะพะผะธััะธะธ ั ััะฐะฝะทะฐะบัะธะน (ะฟัะพะฟะพััะธะพะฝะฐะปัะฝะพ ะฒะบะปะฐะดั)

## ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Fifine AM8     โโUSBโโถโ  Raspberry Pi                    โ
โ  (ะผะธะบัะพัะพะฝ)     โ      โ  - WebSocket ัะตัะฒะตั :8765        โ
โโโโโโโโโโโโโโโโโโโ      โ  - FFT ะฐะฝะฐะปะธะท ะฐัะดะธะพ              โ
                         โ  - ะะปะพะบัะตะนะฝ ะปะพะณะธะบะฐ               โ
โโโโโโโโโโโโโโโโโโโ      โ                                  โ
โ  Buzzer         โโGPIOโโถ  (GPIO 18 โ ะฟะธัะธั ะฟัะธ ะดะพะฑััะต    โ
โ  (active)       โ      โ   ะฑะปะพะบะฐ)                         โ
โโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                        โ
                                   WiFi โ raspberrypi.local
                                        โ
         โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ           ะะะะะะะซ            โ          ะะะะฌะะะะะขะะะ        โ
         โ         (4 ัะปะพัะฐ)            โ        (ะฝะตะพะณัะฐะฝะธัะตะฝะฝะพ)       โ
         โ                              โ                              โ
    โโโโโโดโโโโโ                    โโโโโโดโโโโโ                         โ
    โผ         โผ                    โผ         โผ                         โผ
โโโโโโโโ โโโโโโโโ โโโโโโโโ โโโโโโโโ    โโโโโโโโ โโโโโโโโ          โโโโโโโโ
โ 440  โ โ 587  โ โ 784  โ โ 1047 โ    โ User โ โ User โ   ...    โ User โ
โ  Hz  โ โ  Hz  โ โ  Hz  โ โ  Hz  โ    โ  A   โ โ  B   โ          โ  N   โ
โโโโโโโโ โโโโโโโโ โโโโโโโโ โโโโโโโโ    โโโโโโโโ โโโโโโโโ          โโโโโโโโ
   ๐       ๐       ๐       ๐          ๐ธ       ๐ธ                 ๐ธ
 ะทะฒัะบ     ะทะฒัะบ     ะทะฒัะบ     ะทะฒัะบ      ััะฐะฝะทะฐะบัะธะธ
```

## ะขัะตะฑะพะฒะฐะฝะธั

### ะะตะปะตะทะพ

- Raspberry Pi 5
- USB ะผะธะบัะพัะพะฝ (Fifine AM8 ะธะปะธ ะฐะฝะฐะปะพะณ)
- Active buzzer (ะฟะพะดะบะปััะตะฝ ะบ GPIO 18)
- iPhone ั iOS 26 ะดะปั ะบะฐะถะดะพะณะพ ััะฐััะฝะธะบะฐ
- ะะฑัะฐั WiFi ัะตัั

### ะกะพัั

**Raspberry Pi:**
- Python 3.14+
- websockets
- numpy
- scipy
- sounddevice

**iOS:**
- iOS 26+

## ะฃััะฐะฝะพะฒะบะฐ

### ะกะตัะฒะตั (Raspberry Pi)

```bash
# ะะปะพะฝะธัะพะฒะฐัั ัะตะฟะพะทะธัะพัะธะน
git clone https://github.com/p5ina/sound-chain.git
cd server

# ะฃััะฐะฝะพะฒะธัั ะทะฐะฒะธัะธะผะพััะธ
pip install -r requirements.txt

# ะัะพะฒะตัะธัั ะผะธะบัะพัะพะฝ
arecord -l

# ะะฐะฟัััะธัั ัะตัะฒะตั
python main.py
```

### iOS ะบะปะธะตะฝั

```bash
cd ios/SoundChain
open SoundChain.xcodeproj
```

Build and run ะฝะฐ ััััะพะนััะฒะต (ัะธะผัะปััะพั ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตั ะณะตะฝะตัะฐัะธั ะทะฒัะบะฐ ัะตัะตะท ะดะธะฝะฐะผะธะบ).

## ะะณัะพะฒัะต ะผะตัะฐะฝะธะบะธ

### ะะพะปะธ

**ะะพะปัะทะพะฒะฐัะตะปั** โ ะฟัะธ ะฟะพะดะบะปััะตะฝะธะธ ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะพะทะดะฐัััั ะบะพัะตะปัะบ. ะะพะถะตั ะฟะตัะตะฒะพะดะธัั ะผะพะฝะตัั ะดััะณะธะผ ะฟะพะปัะทะพะฒะฐัะตะปัะผ ะธ ะฟัะพัะผะฐััะธะฒะฐัั ะธััะพัะธั ััะฐะฝะทะฐะบัะธะน.

**ะะฐะนะฝะตั** โ ะทะฐะฝะธะผะฐะตั ะพะดะธะฝ ะธะท 4 ัะปะพัะพะฒ. ะะตะฝะตัะธััะตั ะทะฒัะบ ะฝะฐ ัะฝะธะบะฐะปัะฝะพะน ัะฐััะพัะต ะดะปั ะดะพะฑััะธ ะฑะปะพะบะพะฒ. ะะพะปััะฐะตั ะฝะฐะณัะฐะดั ะทะฐ ะฑะปะพะบ + ะบะพะผะธััะธะธ ั ััะฐะฝะทะฐะบัะธะน.

### ะะฐะนะฝะธะฝะณ

ะกะตัะฒะตั ะณะตะฝะตัะธััะตั challenge โ ัะตะปะตะฒะพะน ััะพะฒะตะฝั ะทะฒัะบะฐ (ะฝะฐะฟัะธะผะตั, 47%). ะะฐะนะฝะตัั ะฒะบะปััะฐัั ัะฒะพะธ ัะพะฝั ะธ ะฟััะฐัััั ะบะพะปะปะตะบัะธะฒะฝะพ ะฟะพะฟะฐััั ะฒ ัะตะปั. ะะพะณะดะฐ ััะผะผะฐัะฝัะน ััะพะฒะตะฝั ะฒ ะฟัะตะดะตะปะฐั ะดะพะฟััะบะฐ โ ะฑะปะพะบ ะดะพะฑัั.

**ะะฐะณัะฐะดะฐ ะผะฐะนะฝะตัะฐะผ:**
- ะะฐะทะพะฒะฐั ะฝะฐะณัะฐะดะฐ ะทะฐ ะฑะปะพะบ (ะฒะฒะพะดะธั ะฝะพะฒัั ะฒะฐะปััั ะฒ ัะธััะตะผั)
- ะะพะผะธััะธะธ ัะพ ะฒัะตั ััะฐะฝะทะฐะบัะธะน ะฒ ะฑะปะพะบะต
- ะะฐัะฟัะตะดะตะปัะตััั ะฟัะพะฟะพััะธะพะฝะฐะปัะฝะพ ะฒะบะปะฐะดั ะบะฐะถะดะพะณะพ ะผะฐะนะฝะตัะฐ

**ะะธะฝะฐะผะธัะตัะบะฐั ัะปะพะถะฝะพััั:**
- ะะปะพะบ ะดะพะฑัั ะฑััััะพ (< 5 ัะตะบ) โ ะดะพะฟััะบ ัะผะตะฝััะฐะตััั
- ะะปะพะบ ะดะพะฑัะฒะฐะตััั ะดะพะปะณะพ (> 30 ัะตะบ) โ ะดะพะฟััะบ ัะฒะตะปะธัะธะฒะฐะตััั

**ะฅะฐะปะฒะธะฝะณ:**
- ะะฐะถะดัะต 100 ะฑะปะพะบะพะฒ ะฝะฐะณัะฐะดะฐ ัะผะตะฝััะฐะตััั ะฒะดะฒะพะต
- ะะฐัะฐะปัะฝะฐั ะฝะฐะณัะฐะดะฐ: 50 ะผะพะฝะตั ะทะฐ ะฑะปะพะบ

### ะขัะฐะฝะทะฐะบัะธะธ

ะะพะปัะทะพะฒะฐัะตะปะธ ะฟะตัะตะฒะพะดัั ะผะพะฝะตัั ะดััะณ ะดััะณั. ะะฐะถะดะฐั ััะฐะฝะทะฐะบัะธั ะฒะบะปััะฐะตั ะบะพะผะธััะธั ะดะปั ะผะฐะนะฝะตัะพะฒ. ะขัะฐะฝะทะฐะบัะธะธ ะฟะพะฟะฐะดะฐัั ะฒ ะฟัะป ะธ ะฟะพะดัะฒะตัะถะดะฐัััั ะฟัะธ ะดะพะฑััะต ัะปะตะดัััะตะณะพ ะฑะปะพะบะฐ.

## ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
lightchain/
โโโ server/
โ   โโโ main.py              # WebSocket ัะตัะฒะตั, ะณะปะฐะฒะฝัะน ัะธะบะป
โ   โโโ audio.py             # ะะฐัะฒะฐั ะธ FFT ะฐะฝะฐะปะธะท
โ   โโโ blockchain.py        # ะะปะพะบะธ, ััะฐะฝะทะฐะบัะธะธ, ะบะพะฝัะตะฝััั
โ   โโโ requirements.txt
โ
โโโ ios/
    โโโ LightChain/
        โโโ LightChainApp.swift
        โโโ ContentView.swift
        โ
        โโโ Services/
        โ   โโโ WebSocketClient.swift
        โ   โโโ ToneGenerator.swift
        โ
        โโโ Models/
        โ   โโโ Player.swift
        โ   โโโ Block.swift
        โ   โโโ Transaction.swift
        โ
        โโโ Views/
            โโโ LobbyView.swift
            โโโ WalletView.swift
            โโโ MiningView.swift
            โโโ LeaderboardView.swift
```

## ะัะพัะพะบะพะป

### ะะปะธะตะฝั โ ะกะตัะฒะตั

```json
// ะะพะดะบะปััะตะฝะธะต (ะบะพัะตะปัะบ ัะพะทะดะฐัััั ะฐะฒัะพะผะฐัะธัะตัะบะธ)
{"type": "join", "name": "Alice"}

// ะกัะฐัั ะผะฐะนะฝะตัะพะผ (ะตัะปะธ ะตััั ัะฒะพะฑะพะดะฝัะน ัะปะพั)
{"type": "become_miner"}

// ะะพะบะธะฝััั ัะปะพั ะผะฐะนะฝะตัะฐ
{"type": "leave_mining"}

// ะะตัะตะฒะพะด ะผะพะฝะตั (ะดะปั ะฒัะตั ะฟะพะปัะทะพะฒะฐัะตะปะตะน)
{"type": "transfer", "to": "user_id", "amount": 10.5, "fee": 0.1}
```

### ะกะตัะฒะตั โ ะะปะธะตะฝั

```json
// ะะพะดะบะปััะตะฝะธะต ััะฟะตัะฝะพ, ะบะพัะตะปัะบ ัะพะทะดะฐะฝ
{"type": "joined", "user_id": "uuid", "role": "user", "wallet": {"balance": 0}}

// ะกัะฐะป ะผะฐะนะฝะตัะพะผ
{"type": "became_miner", "frequency": 440, "slot": 1}

// ะะฑัะตะต ัะพััะพัะฝะธะต
{"type": "state", "miners": [...], "users": [...], "chain_length": 42, "pending_tx": 3}

// ะกัะฐััั ะผะฐะนะฝะธะฝะณะฐ (ะดะปั ะผะฐะนะฝะตัะพะฒ)
{"type": "mining_status", "contributions": {"miner_1": 0.8, "miner_2": 0.3}, "target": 0.5, "current": 0.47, "tolerance": 0.05}

// ะะปะพะบ ะดะพะฑัั
{"type": "block_mined", "block": {...}, "rewards": {"miner_1": 35.0, "miner_2": 15.0}, "fees": 2.5}

// ะขัะฐะฝะทะฐะบัะธั ะฟะพะดัะฒะตัะถะดะตะฝะฐ
{"type": "transaction_confirmed", "tx": {...}}
```

## ะะพะฝัะธะณััะฐัะธั

### server/config.py

```python
# ะงะฐััะพัั ะผะฐะนะฝะตัะพะฒ (Hz)
MINER_FREQUENCIES = [440, 587, 784, 1047]
MAX_MINERS = 4

# ะะฐะนะฝะธะฝะณ
INITIAL_REWARD = 50.0
HALVING_INTERVAL = 100
INITIAL_TOLERANCE = 0.1
MIN_TOLERANCE = 0.02
MAX_TOLERANCE = 0.25

# ะขัะฐะฝะทะฐะบัะธะธ
MIN_FEE = 0.01  # ะะธะฝะธะผะฐะปัะฝะฐั ะบะพะผะธััะธั

# ะกะตัะฒะตั
WEBSOCKET_PORT = 8765
TICK_RATE = 0.1  # 10 updates/sec
```

## Troubleshooting

### ะะธะบัะพัะพะฝ ะฝะต ะพะฟัะตะดะตะปัะตััั

```bash
# ะัะพะฒะตัะธัั USB ััััะพะนััะฒะฐ
lsusb | grep -i audio

# ะัะพะฒะตัะธัั ะทะฒัะบะพะฒัะต ะบะฐััั
cat /proc/asound/cards

# ะะตัะตะทะฐะณััะทะธัั ะฐัะดะธะพ
pulseaudio -k
```

### iOS ะฝะต ะฟะพะดะบะปััะฐะตััั

- ะัะพะฒะตัั ััะพ Pi ะธ iPhone ะฒ ะพะดะฝะพะน ัะตัะธ
- ะะพะฟัะพะฑัะน IP ะฒะผะตััะพ hostname: `ws://192.168.1.X:8765`
- ะัะพะฒะตัั firewall ะฝะฐ Pi: `sudo ufw allow 8765`

### FFT ะฝะต ัะฐะทะปะธัะฐะตั ัะฐััะพัั

- ะฃะฒะตะปะธัั ะณัะพะผะบะพััั ะฝะฐ ัะตะปะตัะพะฝะฐั
- ะฃะผะตะฝััะธ ัะพะฝะพะฒัะน ััะผ
- ะัะพะฒะตัั ััะพ ัะฐััะพัั ะดะพััะฐัะพัะฝะพ ัะฐะทะฝะตัะตะฝั

## ะะธัะตะฝะทะธั

MIT
